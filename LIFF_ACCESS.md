# üì± ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤ LIFF

## ‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**LIFF (LINE Front-end Framework) ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE App ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!**
- ‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô browser ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡πÑ‡∏î‡πâ
- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE App ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ LINE Web
- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE LIFF App ‡πÉ‡∏ô LINE Developers Console ‡∏Å‡πà‡∏≠‡∏ô

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á LIFF

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE LIFF App ‡πÉ‡∏ô LINE Developers Console

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [LINE Developers Console](https://developers.line.biz/console/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Channel** ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **LIFF**
4. ‡∏Å‡∏î **Add** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á LIFF App ‡πÉ‡∏´‡∏°‡πà

**‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LIFF App:**
- **LIFF app name**: `HR System Employee App`
- **Size**: `Full` (‡∏´‡∏£‡∏∑‡∏≠ `Tall` ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
- **Endpoint URL**: `https://hrcrm-three.vercel.app/liff/onboarding`
  - ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ: `https://hr-dcv94bpc8-thanawatsiriwisitthana-gmailcoms-projects.vercel.app/liff/onboarding`
- **Scope**: 
  - ‚úÖ `profile`
  - ‚úÖ `openid`
  - ‚úÖ `email` (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
- **Bot feature**: Enable (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

5. ‡∏Å‡∏î **Add** ‡πÅ‡∏•‡πâ‡∏ß **Copy LIFF ID** ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ (‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ)

---

### 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Supabase LINE OAuth

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Supabase Dashboard](https://supabase.com/dashboard)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Authentication** ‚Üí **Providers**
4. Enable **LINE** provider
5. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
   - **LINE Channel ID**: ‡∏à‡∏≤‡∏Å LINE Developers Console ‚Üí Channel Settings
   - **LINE Channel Secret**: ‡∏à‡∏≤‡∏Å LINE Developers Console ‚Üí Channel Settings
   - **Redirect URL**: `https://hrcrm-three.vercel.app/auth/callback`
     - ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ: `https://hr-dcv94bpc8-thanawatsiriwisitthana-gmailcoms-projects.vercel.app/auth/callback`

6. ‡∏Å‡∏î **Save**

---

### 3. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Environment Variables ‡πÉ‡∏ô Vercel (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ LIFF ID ‡πÉ‡∏ô code:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Vercel Dashboard](https://vercel.com/thanawatsiriwisitthana-gmailcoms-projects/hr_crm)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **Environment Variables**
3. ‡πÄ‡∏û‡∏¥‡πà‡∏°:
   - `NEXT_PUBLIC_LIFF_ID` = `YOUR_LIFF_ID` (‡∏à‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1)
4. ‡∏Å‡∏î **Save** ‡πÅ‡∏•‡∏∞ **Redeploy**

---

### 4. ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á LIFF

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ú‡πà‡∏≤‡∏ô LINE App (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. ‡πÄ‡∏õ‡∏¥‡∏î **LINE App** ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Chat** ‡∏Å‡∏±‡∏ö Bot ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î LIFF App
4. ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ **LIFF URL** ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á:
   ```
   https://liff.line.me/YOUR_LIFF_ID
   ```

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ú‡πà‡∏≤‡∏ô LINE Web

1. ‡πÄ‡∏õ‡∏¥‡∏î [LINE Web](https://web.line.me/)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Chat ‡∏Å‡∏±‡∏ö Bot
3. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î LIFF App

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ú‡πà‡∏≤‡∏ô QR Code (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code ‡∏ó‡∏µ‡πà‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà: `https://liff.line.me/YOUR_LIFF_ID`
2. Scan QR Code ‡∏î‡πâ‡∏ß‡∏¢ LINE App

---

## üîó LIFF URLs

### Onboarding Page (‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô)
```
https://liff.line.me/YOUR_LIFF_ID
```
‡∏´‡∏£‡∏∑‡∏≠
```
https://liff.line.me/YOUR_LIFF_ID?code=INVITE_CODE
```

### Dashboard Page (‡∏´‡∏•‡∏±‡∏á‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß)
```
https://liff.line.me/YOUR_LIFF_ID/dashboard
```
(‡∏ï‡πâ‡∏≠‡∏á redirect ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô LIFF app)

---

## üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö LIFF

### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô Browser (‡∏à‡∏≥‡∏Å‡∏±‡∏î)

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** LIFF ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ô browser ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π UI ‡πÑ‡∏î‡πâ:

- Onboarding: https://hrcrm-three.vercel.app/liff/onboarding
- Dashboard: https://hrcrm-three.vercel.app/liff/dashboard

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô LINE App (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. ‡πÄ‡∏õ‡∏¥‡∏î LINE App
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Chat ‡∏Å‡∏±‡∏ö Bot
3. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° LIFF
4. ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î URL: `https://liff.line.me/YOUR_LIFF_ID`

---

## üìã Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á LINE Channel ‡πÉ‡∏ô LINE Developers Console
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á LIFF App ‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ LIFF ID
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LIFF Endpoint URL ‡πÄ‡∏õ‡πá‡∏ô Vercel URL
- [ ] Enable LINE OAuth ‡πÉ‡∏ô Supabase
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Redirect URL ‡πÉ‡∏ô Supabase
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏¥‡∏î LIFF ‡∏ú‡πà‡∏≤‡∏ô LINE App

---

## üêõ Troubleshooting

### LIFF ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô LINE App

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ LIFF ID ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ LIFF App ‡∏ñ‡∏π‡∏Å Enable ‡πÅ‡∏•‡πâ‡∏ß
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Endpoint URL ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞ accessible

### LINE OAuth ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Redirect URL ‡πÉ‡∏ô Supabase ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Vercel URL
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Channel ID ‡πÅ‡∏•‡∏∞ Secret ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ LINE OAuth ‡∏ñ‡∏π‡∏Å Enable ‡πÉ‡∏ô Supabase

### ‡∏´‡∏ô‡πâ‡∏≤ LIFF ‡πÅ‡∏™‡∏î‡∏á Error

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables ‡πÉ‡∏ô Vercel
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs ‡πÉ‡∏ô Vercel Dashboard
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Supabase URL ‡πÅ‡∏•‡∏∞ Key ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

## üìö Resources

- [LINE LIFF Documentation](https://developers.line.biz/en/docs/liff/)
- [LINE Developers Console](https://developers.line.biz/console/)
- [Supabase LINE OAuth Guide](https://supabase.com/docs/guides/auth/social-login/auth-line)
